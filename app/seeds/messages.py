from app.models import db, Message, environment, SCHEMA
from sqlalchemy.sql import text
import random

example_msgs = {
    "msg_weather": ["It's sunny today.","The rain is pouring.","It's quite cloudy.","Snow is falling.","The wind is strong.","It's a hot day.","It's freezing outside.","The sky is clear.","There's a thunderstorm.","It's foggy this morning.","The sun is shining brightly.","It's drizzling.","It's a perfect day for a walk.","The temperature is dropping.","It's humid today.","The weather is mild.","It's a bit chilly.","There's a light breeze.","It's hailing.","The air is crisp.","It's a beautiful day.","It's overcast.","The weather is unpredictable.","It's a scorcher.","The snow is melting.","It's a windy day.","The rain is relentless.","It's a gloomy day.","The sun is setting.","It's a stormy night.","The weather is perfect for a picnic.","It's a dry day.","The fog is lifting.","It's a cold snap.","The sun is peeking through the clouds.","It's a balmy evening.","The rain has stopped.","It's a frosty morning.","The wind is howling.","It's a muggy day.","The clouds are gathering.","It's a clear night.","The weather is changing.","It's a wet day.","The sun is rising.","It's a breezy afternoon.","The rain is light.","It's a snowy day.","The weather is calm.","It's a hot and humid day.","The sky is turning grey.","It's a crisp autumn day.","The thunder is rumbling.","It's a warm night.","The rain is easing off.","It's a bright morning.","The wind is picking up.","It's a cold and windy day.","The snow is deep.","It's a sunny afternoon.","The rain is heavy.","It's a cool evening.","The weather is pleasant.","It's a blustery day.","The sky is blue.","It's a rainy night.","The air is fresh.","It's a hot afternoon.","The clouds are parting.","It's a cold night.","The sun is scorching.","It's a foggy evening.","The weather is dreary.","It's a warm day.","The rain is steady.","It's a chilly night.","The snow is falling gently.","It's a windy evening.","The weather is clear.","It's a perfect spring day."],
    "msg_animals": ["A group of flamingos is called a \"flamboyance.\"","Elephants are the only animals that can't jump.","A snail can sleep for three years.","The heart of a shrimp is located in its head.","Slugs have four noses.","Only female mosquitoes bite.","A rhinoceros' horn is made of hair.","It is possible to hypnotize a frog by placing it on its back and gently stroking its stomach.","It takes a sloth two weeks to digest its food.","Nearly three percent of the ice in Antarctic glaciers is penguin urine.","A cow gives nearly 200,000 glasses of milk in a lifetime.","Bats always turn left when leaving a cave.","Giraffes have no vocal cords.","Kangaroos can't walk backwards.","An ostrich's eye is bigger than its brain.","Sea otters hold hands when they sleep to keep from drifting apart.","Koalas sleep up to 22 hours a day.","A group of owls is called a parliament.","A goldfish has a memory span of three seconds.","A group of crows is called a murder.","Octopuses have three hearts.","Butterflies taste with their feet.","A group of jellyfish is called a smack.","Horses and cows sleep while standing up.","A group of frogs is called an army.","A group of rabbits is called a fluffle.","Dolphins have names for each other.","The fingerprints of a koala are so indistinguishable from humans that they have on occasion been confused at a crime scene.","A group of ferrets is called a business.","A group of parrots is called a pandemonium.","Some fish cough.","A newborn kangaroo is the size of a lima bean.","The world's smallest dog was a Yorkshire Terrier, which weighed just four ounces.","Frogs drink water through their skin.","A group of hedgehogs is called a prickle.","A group of porcupines is called a prickle.","Starfish do not have a brain.","Crocodiles cannot stick their tongue out.","Polar bear skin is black.","A group of flamingos is called a pat.","The only mammal capable of flight is the bat.","Some species of fish can fly (glide) others can skip along the surface and others can even climb rock.","A group of apes is called a shrewdness.","A group of baboons is called a troop.","A group of cats is called a clowder.","A group of dogs is called a pack.","A group of donkeys is called a drove.","A group of eagles is called a convocation.","A group of elephants is called a parade.","A group of foxes is called a skulk.","A group of goats is called a trip.","A group of hyenas is called a cackle.","A group of kangaroos is called a mob.","A group of lemurs is called a conspiracy.","A group of lions is called a pride.","A group of moles is called a labor.","A group of owls is called a parliament.","A group of parrots is called a pandemonium.","A group of penguins is called a colony.","A group of pigs is called a drift.","A group of rhinos is called a crash.","A group of sharks is called a shiver.","A group of starlings is called a murmuration.","A group of whales is called a pod.","A group of wolves is called a pack.","A group of zebras is called a zeal.","The heart of a blue whale is the size of a car.","A group of peacocks is called an ostentation.","A group of ravens is called an unkindness.","A group of tigers is called an ambush.","A group of toads is called a knot.","A group of turkeys is called a rafter.","A group of vultures is called a wake.","A group of weasels is called a sneak.","A group of woodpeckers is called a descent.","A group of swans is called a bevy.","A group of swans in flight is called a wedge.","A group of squirrels is called a dray.","A group of snakes is called a nest.","A group of sparrows is called a host"],
    "msg_os": ['Windows 1.0 was released on November 20, 1985.','The original Windows 1.0 required two floppy disks and 256 KB of memory.','Windows 3.0, released in 1990, was the first version to achieve significant commercial success.','Windows 95 introduced the Start menu, taskbar, and minimize/maximize/close buttons on each window.','The Windows 95 launch featured the Rolling Stones\' song "Start Me Up."','Windows 98 was the first operating system to support USB devices.','Windows XP, released in 2001, is one of the most popular versions of Windows ever.','Windows XP had a green Start button, blue taskbar, and a wallpaper called "Bliss."','Windows Vista introduced the Aero graphical user interface.','Windows 7, released in 2009, is praised for its performance improvements over Vista.','Windows 8 introduced a new Start screen with live tiles.','Windows 8.1 reintroduced the Start button after user feedback.','Windows 10, released in 2015, is offered as a free upgrade to Windows 7 and 8.1 users.','Windows 10 introduced the virtual assistant Cortana.','Windows 10 includes a feature called "Task View" for virtual desktops.','Windows 10 has a built-in Xbox app for gaming.','Windows 11 was announced on June 24, 2021.','Windows 11 features a redesigned Start menu and taskbar centered on the screen.','Windows 11 supports Android apps through the Microsoft Store.','The Windows logo has undergone several redesigns since its inception.','The "Blue Screen of Death" (BSOD) is a well-known error screen in Windows.','Windows NT was developed as a high-end operating system for servers and workstations.','Windows 2000 was the last version of Windows to include the "Windows NT" name.','Windows CE is a version of Windows designed for embedded systems.','Windows ME (Millennium Edition) was released in 2000 and is considered one of the least successful versions.','Windows Server is a series of server operating systems developed by Microsoft.','Windows 10 includes a feature called "Windows Hello" for biometric authentication.','Windows 10 has a built-in feature called "Game Mode" to optimize gaming performance.','Windows 10 includes a feature called "Snap Assist" for arranging windows.','Windows 10 has a built-in digital pen support called "Windows Ink."','macOS was originally called Mac OS X when it was first released in 2001.','macOS is built on a Unix-based foundation, providing strong stability and security.','The original macOS introduced the Aqua user interface, known for its water-like elements and vibrant colors.','The first version of Mac OS X was codenamed "Cheetah."','macOS introduced the Dock, a quick-access bar for applications, which has become a staple of the OS.','Introduced in Mac OS X Tiger (10.4), Spotlight is a powerful search tool for finding files, apps, and information on your Mac.','Time Machine, a backup software application, was introduced in Mac OS X Leopard (10.5).','The Mac App Store was introduced in Mac OS X Snow Leopard (10.6.6) in 2011.','macOS was optimized for Retina displays, providing higher resolution and crisper text and images.','Siri, Apple\'s virtual assistant, was integrated into macOS starting with macOS Sierra (10.12).','Continuity features allow seamless integration between macOS and iOS devices, including Handoff, Universal Clipboard, and Continuity Camera.','Metal is a graphics API introduced in macOS El Capitan (10.11) for improved graphics performance.','Dark Mode was introduced in macOS Mojave (10.14), providing a darker color scheme for the entire interface.','Project Catalyst allows developers to port iOS apps to macOS, starting with macOS Catalina (10.15).','macOS Big Sur (11) marked a significant redesign of the macOS interface and was the first version to support Apple Silicon Macs.','Rosetta 2 is a translation layer that allows Intel-based apps to run on Apple Silicon Macs.','AirDrop allows easy file sharing between macOS and iOS devices.','Mission Control provides an overview of all open windows, desktops, and full-screen apps.','Gatekeeper helps protect your Mac from malware by allowing only trusted software to be installed.','FileVault provides full-disk encryption to protect your data.','Exposé, now part of Mission Control, was introduced in Mac OS X Panther (10.3) for managing open windows.','Dashboard, introduced in Mac OS X Tiger (10.4), allowed users to access widgets quickly.','Spaces, introduced in Mac OS X Leopard (10.5), allows users to create multiple virtual desktops.','Quick Look, introduced in Mac OS X Leopard (10.5), allows users to preview files without opening them.','Automator, introduced in Mac OS X Tiger (10.4), allows users to create workflows for automating repetitive tasks.','Safari, Apple\'s web browser, was first introduced in Mac OS X Panther (10.3).','iCloud integration allows for seamless syncing of data across Apple devices.','Boot Camp allows users to install and run Windows on their Mac.','VoiceOver is a built-in screen reader that makes macOS accessible to visually impaired users.','AirPlay allows users to stream audio and video from their Mac to other compatible devices like Apple TV.','Linux is a free and open-source operating system, meaning anyone can use, modify, and distribute it.','Linux is technically just the kernel, the core part of the operating system, while distributions like Ubuntu, Fedora, and Debian provide the complete OS.','Linux was created by Linus Torvalds in 1991 as a hobby project while he was a student at the University of Helsinki.','The mascot of Linux is a penguin named Tux. The idea came from Linus Torvalds himself, who loves penguins.','Over 90% of the world’s supercomputers run on Linux.','The Android operating system, which powers billions of smartphones, is based on the Linux kernel.','A significant portion of web servers around the world run on Linux, including those for Google, Facebook, and Amazon.','There are hundreds of different Linux distributions (distros), each with its own set of features and tools. Popular ones include Ubuntu, Fedora, and Arch Linux.','Linux is known for its strong security features and is less prone to malware and viruses compared to other operating systems.','Linux users often use a command line interface (CLI) for performing tasks, which can be more powerful and flexible than graphical user interfaces (GUIs).','Linux is highly customizable. Users can change almost every aspect of the system to fit their needs.','Linux has a large and active community that contributes to its development and offers support through forums, mailing lists, and chat rooms.','Linux distributions often use package managers like APT (for Debian-based distros) or YUM (for Red Hat-based distros) to install and manage software.','Linux is released under the GNU General Public License (GPL), which ensures that it remains free and open-source.','There are lightweight Linux distributions like Puppy Linux and Tiny Core Linux that can run on older or less powerful hardware.','Linux is used in space missions, including the International Space Station, due to its reliability and flexibility.','Linux is a popular platform for software development, offering a wide range of programming tools and environments.','Linux is widely used in virtualization and cloud computing environments, with tools like KVM, Docker, and OpenStack.','Linux has seen a rise in gaming support, with platforms like Steam offering a growing number of games compatible with Linux.','Linux is commonly used in Internet of Things (IoT) devices due to its small footprint and versatility.']
}

# Adds a demo user, you can add other users here if you want
def seed_messages():
    for k in example_msgs:
        for i,v in enumerate(example_msgs[k]):
            db.session.add(Message(
                channel_id=(i%80)+1,
                author_id=random.randint(1,3),
                content=v
            ))

    db.session.commit()


# Uses a raw SQL query to TRUNCATE or DELETE the users table. SQLAlchemy doesn't
# have a built in function to do this. With postgres in production TRUNCATE
# removes all the data from the table, and RESET IDENTITY resets the auto
# incrementing primary key, CASCADE deletes any dependent entities.  With
# sqlite3 in development you need to instead use DELETE to remove all data and
# it will reset the primary keys for you as well.
def undo_messages():
    if environment == "production":
        db.session.execute(f"TRUNCATE table {SCHEMA}.messages RESTART IDENTITY CASCADE;")
    else:
        db.session.execute(text("DELETE FROM messages"))
        
    db.session.commit()
